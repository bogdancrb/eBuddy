<script type="text/javascript" src="/web/limitless-assets/js/pages/gallery.js"></script>

<div class="tab-pane" id="pictures">
</div>

<script>
    function getPhotoGalery(){
        $.ajax({
            method: 'GET',
            url: Routing.generate('getPictursOfCurrentUser'),
            error: function () {
                //                    $('#errors').html('<p>An error has occurred</p>');
            },
            success: function (data) {
                var response = JSON.parse(data.content);
                if (!response.error) {
                    response.response.forEach(function (value, index) {
                        $('#pictures').append(getGaleryImageHtml(value))
                    });

                }
            }

        });
    }

    function getGaleryImageHtml(image) {
        console.log(image);
        return  '<div class="col-lg-3 col-sm-6">'+
                '    <div class="thumbnail">'+
                '        <div class="thumb">'+
                '            <img src="/web/'+image.path+'" alt="">'+
                '            <div class="caption-overflow">'+
                '                <span>'+
                '                    <a href="/web/'+image.path+'" data-popup="lightbox" rel="gallery" class="btn border-white text-white btn-flat btn-icon btn-rounded"><i class="icon-plus3"></i></a>'+
                '                    <a href="#" class="btn border-white text-white btn-flat btn-icon btn-rounded ml-5"><i class="icon-link2"></i></a>'+
                '                </span>'+
                '            </div>'+
                '        </div>'+
                '    </div>'+
                '</div>';
    }
    $(document).ready(function () {
        getPhotoGalery();
    });
</script>




